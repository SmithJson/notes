
<!-- vim-markdown-toc GitLab -->

* [ä¸€. è‡ªæˆ‘ä»‹ç»](#ä¸€-è‡ªæˆ‘ä»‹ç»)
* [äºŒ. é—®é¢˜](#äºŒ-é—®é¢˜)
	* [1. å‰ç«¯å¸¸å¸¸éœ€è¦å’Œåç«¯æ‰“äº¤é“ï¼Œè®¿é—®ä»–ä»¬æä¾›çš„ apiï¼Œé‚£ä½ èƒ½è¯´ä¸‹çŠ¶æ€ç å—ï¼Ÿ](#1-å‰ç«¯å¸¸å¸¸éœ€è¦å’Œåç«¯æ‰“äº¤é“è®¿é—®ä»–ä»¬æä¾›çš„-apié‚£ä½ èƒ½è¯´ä¸‹çŠ¶æ€ç å—)
		* [ä¸è¶³](#ä¸è¶³)
		* [æ”¹ç‰ˆ](#æ”¹ç‰ˆ)
	* [2. é‚£ä½ èƒ½è¯´ä¸‹å®ƒä»¬ï¼ˆçŠ¶æ€ç ï¼‰çš„ä½¿ç”¨åœºæ™¯å—ï¼Ÿ](#2-é‚£ä½ èƒ½è¯´ä¸‹å®ƒä»¬çŠ¶æ€ç çš„ä½¿ç”¨åœºæ™¯å—)
		* [ä¸è¶³](#ä¸è¶³-1)
		* [æ”¹ç‰ˆ](#æ”¹ç‰ˆ-1)
	* [3. å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°åŠä»£ç è®²è§£](#3-å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°åŠä»£ç è®²è§£)
	* [4. å‘å¸ƒè®¢é˜…çš„åº”ç”¨åœºæ™¯](#4-å‘å¸ƒè®¢é˜…çš„åº”ç”¨åœºæ™¯)
	* [5. TCP/IP ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸æ˜¯äºŒæ¬¡æˆ–å››æ¬¡ï¼Ÿ](#5-tcpip-ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ä¸æ˜¯äºŒæ¬¡æˆ–å››æ¬¡)
		* [ä¸è¶³,](#ä¸è¶³-2)
		* [æ”¹ç‰ˆ](#æ”¹ç‰ˆ-2)
	* [6. Promise äº†è§£è¿‡å—ï¼Œä»‹ç»ä»‹ç»](#6-promise-äº†è§£è¿‡å—ä»‹ç»ä»‹ç»)
	* [7. æµè§ˆå™¨ç¼“å­˜æœºåˆ¶è¯´ä¸‹](#7-æµè§ˆå™¨ç¼“å­˜æœºåˆ¶è¯´ä¸‹)
		* [cache-control çš„å…¶ä»–å€¼](#cache-control-çš„å…¶ä»–å€¼)
		* [max-age å’Œ expires çš„æ¯”è¾ƒ](#max-age-å’Œ-expires-çš„æ¯”è¾ƒ)
		* [Etag å’Œ Last-Modified çš„æ¯”è¾ƒ](#etag-å’Œ-last-modified-çš„æ¯”è¾ƒ)
	* [8. æˆ‘ä»¬å¸¸è¯´ HTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œèƒ½è¯´è¯´å—ï¼Ÿ](#8-æˆ‘ä»¬å¸¸è¯´-http-æ˜¯æ— çŠ¶æ€çš„èƒ½è¯´è¯´å—)
	* [9. LRU ç®—æ³•æœ‰äº†è§£å—ï¼Œä½ ç®€å•å®ç°ä¸‹å§ã€‚](#9-lru-ç®—æ³•æœ‰äº†è§£å—ä½ ç®€å•å®ç°ä¸‹å§)
	* [10. ä½¿ç”¨ js å®ç°å”¯ä¸€ id](#10-ä½¿ç”¨-js-å®ç°å”¯ä¸€-id)
* [å‚è€ƒæ–‡ç« ](#å‚è€ƒæ–‡ç« )

<!-- vim-markdown-toc -->

## ä¸€. è‡ªæˆ‘ä»‹ç»

é¢è¯•å®˜æ‚¨å¥½ï¼Œæˆ‘å«ä¸€å¶å°å’Œå°šï¼Œå·´æ‹‰å·´æ‹‰...

## äºŒ. é—®é¢˜

### 1. å‰ç«¯å¸¸å¸¸éœ€è¦å’Œåç«¯æ‰“äº¤é“ï¼Œè®¿é—®ä»–ä»¬æä¾›çš„ apiï¼Œé‚£ä½ èƒ½è¯´ä¸‹çŠ¶æ€ç å—ï¼Ÿ

å¥½çš„é¢è¯•å®˜ï¼Œæˆ‘å°±è¯´æˆ‘å¸¸é‡åˆ°çš„å§

 - 200ï¼šè¯·æ±‚æˆåŠŸ
 - 301ï¼šæ°¸ä¹…é‡å®šå‘
 - 302: ä¸´æ—¶é‡å®šå‘
 - 304ï¼šè®¿é—®èµ„æºçš„ç¼“å­˜æ²¡æœ‰å¤±æ•ˆï¼Œè®©æµè§ˆå™¨ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–
 - 401ï¼šæœªæˆæƒè®¿é—®
 - 403ï¼šæ‹’æ¥è®¿é—®
 - 404ï¼šè¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚çš„èµ„æºè¿æ¥å¤±æ•ˆ
 - 500ï¼šæœåŠ¡å™¨é‡åˆ°ä½ç½®é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯åç«¯ä»£ç å‡ºç°é”™è¯¯
 
#### ä¸è¶³

1. æ²¡æœ‰è¯´æ˜çŠ¶æ€ç çš„ä½œç”¨
2. æ²¡æœ‰è¯´æ˜çŠ¶æ€ç çš„å¤§è‡´åˆ†ç±»

#### æ”¹ç‰ˆ

çŠ¶æ€ç ç”¨äºè¯´æ˜æœ¬æ¬¡è¯·æ±‚çš„è¯·æ±‚çŠ¶æ€ï¼Œå¤§è‡´åˆ†ä¸ºä»¥äº”ç±»

- 1XXï¼šä¿¡æ¯ç±»ï¼ŒæœåŠ¡æ¥å—åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ
- 2XXï¼šæˆåŠŸç±»ï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†
- 3XXï¼šé‡å®šå‘ç±»ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆæ“ä½œ
- 4XXï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚
- 5XXï¼šæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯

å¸¸è§çš„çŠ¶æ€ç æœ‰ã€æ¯ä¸ªç±»å‹è‡³å°‘ä¸¾ä¾‹ä¸€ä¸ªã€‘ï¼š

- 100ï¼šå®¢æˆ·ç«¯åº”ç»§ç»­å…¶è¯·æ±‚
- 101ï¼šåè®®åˆ‡æ¢
- 200ï¼šè¯·æ±‚æˆåŠŸ
- 202ï¼šå·²ç»æ¥æ”¶è¯·æ±‚ï¼Œä½†æœªå¤„ç†å®Œæˆ
- 301ï¼šæ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨è‡ªåŠ¨å®šå‘åˆ°æ–° URL
- 302ï¼šä¸´æ—¶é‡å®šå‘, æµè§ˆå»ºè®®ä½¿ç”¨åŸ URL
- 304ï¼šæœªä¿®æ”¹
- 307ï¼šä¸´æ—¶é‡å®šå“ï¼Œä¸ 302 ç±»ä¼¼ï¼Œä½†302åªèƒ½ç”¨äº GETè¯·æ±‚, 307 ç”¨äº POST è¯·æ±‚
- 400ï¼šå®¢æˆ·ç«¯è¯·æ±‚å­˜åœ¨è¯­æ³•é”™è¯¯
- 401ï¼šè¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯
- 403ï¼šæœåŠ¡ç«¯æ¥æ”¶äº†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œä½†æ‹’ç»æ‰§è¡Œæ¬¡è¯·æ±‚
- 404ï¼šæœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æº
- 500ï¼šæœåŠ¡ç«¯å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚
- 503ï¼šæœåŠ¡ä¸å¯ç”¨

### 2. é‚£ä½ èƒ½è¯´ä¸‹å®ƒä»¬ï¼ˆçŠ¶æ€ç ï¼‰çš„ä½¿ç”¨åœºæ™¯å—ï¼Ÿ 

é¢è¯•çš„æ—¶å€™æ²¡æ˜ç™½ä»€ä¹ˆæ„æ€

#### ä¸è¶³

æ²¡ç¢°åˆ°ä½¿ç”¨åœºæ™¯ï¼Œè®¡ç½‘ç™½å­¦äº†

#### æ”¹ç‰ˆ

- 301
	+ åŸŸååˆ°æœŸäº†ï¼Œæƒ³æ¢ä¸ªæ–°åŸŸå
	+ ç©ºé—´æœåŠ¡å™¨ä¸ç¨³å®šï¼Œæ¢ä¸ªç©ºé—´çš„æ—¶å€™
	+ å¯ä»¥å‘Šè¯‰æœç´¢å¼•æ“ç›®æ ‡åŸŸåæ˜¯å“ªä¸€ä¸ª

æ‰©å±•ä¸‹å¯¹ SEO çš„å½±å“ï¼š
> æœç´¢å¼•æ“ä¼˜åŒ–ã€‚
> å½“ç½‘ç«™çš„åŸŸåå‘ç”Ÿå˜æ›´åï¼Œæœç´¢å¼•æ“åªå¯¹æ–°ç½‘å€è¿›è¡Œç´¢å¼•ï¼Œå¹¶ä¸”å°†åŸç½‘å€çš„å¤–é“¾æ•°é‡è½¬ç§»åˆ°æ–°ç½‘å€ä¸‹ï¼Œä¿è¯ç½‘ç«™çš„æ’åä¸å—å˜æ›´å½±å“ï¼›
> ä½¿ç”¨ 301 è®©å¤šä¸ªåŸŸåæŒ‡å‘ä¸»åŸŸåæ—¶ï¼Œä¹Ÿä¸ä¼šå¯¹æ’åäº§ç”Ÿä»»ä½•å½±å“

- 302ï¼šå½“ä¸€ä¸ªç½‘ç«™æˆ–ç½‘é¡µè¢«æš‚æ—¶æ€§çš„è½¬ç§»åˆ°å¦ä¸€ä¸ªæ–°ä½ç½®çš„æ—¶å€™

æ‰©å±•ä¸‹å¯¹ SEO çš„å½±å“ï¼š
> å½±å“æœç´¢å¼•æ“ä¼˜åŒ–ã€‚
> å½“æœ‰å¤šä¸ªåŸŸåä½¿ç”¨ 302 æŒ‡å‘ä¸»åŸŸåæ—¶ï¼Œåªæœ‰ google ä¼šæŠŠå…¶ä»–åŸŸåçš„å¤–é“¾æ•°é‡è®¡å…¥ä¸»åŸŸï¼Œè€Œå…¶ä»–æœç´¢å¼•æ“ä¼šå‘å¤šä¸ªåŸŸååˆ†æ‘Šï¼Œä»è€Œå‡å°‘äº†ä¸»åŸŸåçš„å¤–é“¾æ€»æ•°ã€‚
> å¤–é“¾æ•°é‡æ˜¯ç½‘ç«™æ’åçš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚

- 304ï¼šæµè§ˆå™¨çš„åå•†ç¼“å­˜
- 401ï¼šç”¨æˆ·çš„æœ‰æ•ˆæ€§éªŒè¯
- 403ï¼šç”¨æˆ·çš„è®¿é—®æƒé™æ§åˆ¶

### 3. å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°åŠä»£ç è®²è§£

```javascript
class PubSub {
    constructor() {
        this.subscribes = [];
    }

    // è®¢é˜…
    subscribe(topic, callback) {
        if (!this.subscribes[topic]) {
            this.subscribes[topic] = [];
        }
        this.subscribes[topic].push(callback);
    }

    // å‘å¸ƒ
    publish(topic, ...args) {
        if (!this.subscribes[topic]) {
            return;
        }
        this.subscribes[topic].forEach(item => item(...args));
    }
}

const ps = new PubSub();

ps.subscribe("s1", (data) =>  console.log(data, "S1"));
ps.subscribe("s1", (data) =>  console.log(data, "S1.1"));
ps.subscribe("s2", (data) =>  console.log(data, "S2"));

ps.publish("s1", "Hello World");
```


### 4. å‘å¸ƒè®¢é˜…çš„åº”ç”¨åœºæ™¯

1. Node.js çš„äº‹ä»¶é©±åŠ¨ç¨‹åº
2. websocket çš„åŒå‘é€šä¿¡
3. vue çš„åŒå‘æ•°æ®ç»‘å®š

### 5. TCP/IP ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸æ˜¯äºŒæ¬¡æˆ–å››æ¬¡ï¼Ÿ

å› ä¸º TCP æ˜¯å¯é ä¼ è¾“åè®®ï¼Œåªéœ€è¦ä¿è¯é€šä¿¡åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å®Œæ•´çš„å³å¯ã€‚å¦‚æœåªè¿›è¡Œä¸¤æ¬¡çš„æ¡æ‰‹çš„è¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç¡®å®šå®¢æˆ·ç«¯æ˜¯å¦æ¥æ”¶åˆ°äº† ACK æŠ¥æ–‡ï¼Œ
è¿™æ—¶å€™æœåŠ¡å™¨åœ¨å‘é€æ•°æ®çš„è¯ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›å¦‚æœè¿›è¡Œå››æ¬¡çš„è¯ï¼Œæ„Ÿè§‰å°±æœ‰ç‚¹å¤šä½™äº†ã€‚

#### ä¸è¶³,

æ²¡æœ‰è¯´æ˜ä¸ºä»€ä¹ˆ TCP æ˜¯å¯é ä¼ è¾“åè®®ï¼Œè¿›ä¸€æ­¥æ¥å°±æ˜¯æ²¡æœ‰è¯´æ˜ TCP æ˜¯æ€ä¹ˆå®ç°å¯é ä¼ è¾“çš„ã€‚

#### æ”¹ç‰ˆ

&nbsp;&nbsp;å› ä¸º TCP æ˜¯å¯é ä¼ è¾“åè®®ï¼Œåªéœ€è¦ä¿è¯é€šä¿¡åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å®Œæ•´çš„å³å¯ã€‚å¦‚æœåªè¿›è¡Œä¸¤æ¬¡çš„æ¡æ‰‹çš„è¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç¡®å®šå®¢æˆ·ç«¯æ˜¯å¦æ¥æ”¶åˆ°äº† ACK æŠ¥æ–‡ï¼Œ
è¿™æ—¶å€™æœåŠ¡å™¨åœ¨å‘é€æ•°æ®çš„è¯ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›å¦‚æœè¿›è¡Œå››æ¬¡çš„è¯ï¼Œæ„Ÿè§‰å°±æœ‰ç‚¹å¤šä½™äº†ã€‚   
&nbsp;&nbsp;å¯é ä¼ è¾“çš„å·¥ä½œåŸç†æ˜¯åœæ­¢ç­‰å¾…åè®®ï¼Œåœæ­¢ç­‰å¾…åè®®è¦æ±‚åªæœ‰åœ¨æ¥æ”¶åˆ°è¯·æ±‚æŠ¥æ–‡å¯¹åº”çš„å“åº”æŠ¥æ–‡åï¼Œæ‰èƒ½å‘ä¸‹ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœè¿‡äº†ç­‰å¾…æ—¶é—´åï¼Œ
è¿˜æ²¡æ”¶åˆ°å“åº”æŠ¥æ–‡ï¼Œåˆ™ç»§ç»­å‘é€è¯¥è¯·æ±‚æŠ¥æ–‡ã€‚è¿™ç§åè®®ä¼˜ç‚¹æ˜¯ç®€å•ã€æ˜“å®ç°ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾å°±æ˜¯ä¿¡åˆ©ç”¨ç‡ä½ã€‚
`æ‰€ä»¥æ¨å‡ºäº† ARQ åè®®ï¼ˆä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€æœ¯å®ç°å¯é ä¼ è¾“ï¼‰è§£å†³è¿™ä¸€é—®é¢˜ã€æ‹“å±•ã€‘`ã€‚

### 6. Promise äº†è§£è¿‡å—ï¼Œä»‹ç»ä»‹ç»

Promise æ˜¯ES6 æ¨å‡ºçš„æ–°çš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼Œåœ¨ ES5 çš„æ—¶å€™ä½¿ç”¨å›è°ƒå‡½æ•°æ¥å¤„ç†å¼‚æ­¥ï¼Œä½†å¯èƒ½ä¼šå› ä¸ºåµŒå¥—å¤ªæ·±ï¼Œè€Œå¯¼è‡´å›åˆ°åœ°ç‹±ï¼Œ
Promise æ¨å‡ºåè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚Promise åŒ…å« pendingã€resolvedã€rejected ä¸‰ä¸ªçŠ¶æ€ï¼Œå¹¶ä¸”åªèƒ½æ˜¯ pending è½¬æ¢ä¸ºå¦å¤–ä¸¤ç§çš„ä¹‹ä¸€ï¼Œå¹¶ä¸”ä¸å¯é€†è½¬ã€‚

é€šè¿‡ new Promise(executor) åˆ›å»ºä¸€ä¸ª Promise å¯¹è±¡ï¼Œexecutor ä¼ å…¥ resolve å’Œ reject ç”¨äºæ”¹å˜ Promise çš„çŠ¶æ€ï¼Œ
.then æ¥æ”¶çŠ¶æ€æ”¹å˜åçš„å›è°ƒå¹¶æ‰§è¡Œï¼Œç¬¬ä¸€ä¸ªä¸º resolved æ—¶çš„å›è°ƒï¼Œç¬¬äºŒä¸ªä¸º rejected æ—¶çš„å›è°ƒã€‚å›è°ƒé»˜è®¤è¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œ
å¦‚æœå½“å‰å›é¡ºåˆ©æ‰§è¡Œå®Œäº†ï¼Œæ–°çš„ Promise çŠ¶æ€ç”± pedning è½¬æ¢ä¸º resolvedï¼Œå¦åˆ™è½¬æ¢ä¸º rejectedã€‚ä½¿ç”¨ then çš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€… .catch 

Promise é€šè¿‡ .then ç¬¬äºŒä¸ªå‚æ•°æˆ–è€… .catch æ•è·é”™è¯¯ï¼Œä½¿ç”¨ trhow æŠ›å‡ºé”™è¯¯ è¿›è¡Œæ•è·ï¼Œå¦‚æœæ˜¯æ•è·å¼‚æ­¥é”™è¯¯ï¼Œåˆ™å°†å¼‚æ­¥æ“ä½œä½¿ç”¨ Promise åŒ…è£…ï¼Œ
é€šè¿‡å†…éƒ¨åˆ¤æ–­ï¼Œä½¿ç”¨ rejectï¼Œåœ¨å¤–é¢é€šè¿‡ .catch æ•è·

### 7. æµè§ˆå™¨ç¼“å­˜æœºåˆ¶è¯´ä¸‹

æµè§ˆå™¨ç¼“å­˜åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚å½“è¯·æ±‚å¤´ä¸­çš„ cache-control ä¸º max-age ä¸”ä¸ä¸º0 æˆ– expires è¿‡æœŸæ—¶é—´ä¸ä¸º 0 æ—¶ï¼Œæµè§ˆå™¨ä¸ä¼šå‘é€ç½‘ç»œè¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œé»˜è®¤ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼ŒçŠ¶æ€ç ä¸º 200ï¼ˆfrom memory cacheï¼‰ï¼›
å½“æœªå‘½ä¸­å¼ºç¼“å­˜æ—¶ï¼Œèµ°åå•†ç¼“å­˜, åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼Œæµè§ˆå™¨é™¤äº†ä¼šè¿”å›è¯·æ±‚èµ„æºå¤–ï¼Œè¿˜ä¼šè¿”å› Etagï¼ˆèµ„æºçš„ hashï¼Œä¼šéšèµ„æºçš„å†…å®¹å˜åŒ–è€Œæ”¹å˜ï¼‰ æˆ– Last-Modifiedï¼ˆèµ„æºçš„æœ€è¿‘æ›´æ–°æ—¶é—´ï¼‰
æµè§ˆå™¨ä¿å­˜ä¸‹æ¥ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ä¼šåœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  If-None-Matchã€Etagã€‘ æˆ– If-Modified-Sinceã€Last-modifiedã€‘ ä¸¤å­—æ®µï¼ŒæœåŠ¡å™¨æ¥æ”¶åï¼Œåˆ¤æ–­è¯·æ±‚å¸¦æ¥çš„ Etag å’Œè‡ªå·±è¿™çš„
æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´è¯´æ˜ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›æœ€æ–°èµ„æºå’ŒæœåŠ¡å™¨çš„ Etagï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™å“åº”æŠ¥æ–‡ä¸è¿”å›ä»»ä½•å€¼ï¼ŒçŠ¶æ€ç ä¸º 304ï¼ˆfrom disk cacheï¼‰ï¼Œè®©æµè§ˆä»ç¼“å­˜ä¸­è¯»å–ã€‚Last-Modified çš„æ¯”è¾ƒå’Œ Etag æ–¹å¼æ˜¯ç›¸ä¼¼çš„ã€‚

æ‰©å±•

#### cache-control çš„å…¶ä»–å€¼

| å€¼        | è¯´æ˜                           |
|-----------|--------------------------------|
| max-age   | ç¼“å­˜æœ€å¤§å­˜æ´»æ—¶é—´               |
| s-max-age | å…¬å…±ç¼“å­˜çš„æœ€å¤§å­˜æ´»æ—¶é—´         |
| public    | è®¾ç½®ç¼“å­˜ä¸ºå…±äº«ç¼“å­˜ï¼Œå¦‚ cdnç¼“å­˜ |
| private   | è®¾ç½®å•ä¸ªç”¨æˆ·ç¼“å­˜               |
| no-cache  | åå•†ç¼“å­˜éªŒè¯                   |
| no-sotre  | ä¸è®¾ç½®ç¼“å­˜                     |

#### max-age å’Œ expires çš„æ¯”è¾ƒ

- max-age æ˜¯ http 1.1 æå‡ºçš„ï¼›expires æ˜¯ http 1.0 çš„
- max-age çš„ä¼˜å…ˆçº§é«˜äº expires
- max-age çš„æ—¶é—´æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼›expires æ˜¯ä¸€ä¸ªç»å¯¹å€¼

#### Etag å’Œ Last-Modified çš„æ¯”è¾ƒ

- Etag æ˜¯æ ¹æ®èµ„æºçš„å†…å®¹æ›´æ–°ï¼›Last-Modified æ˜¯æ ¹æ®èµ„æºçš„ä¿®æ”¹æ—¶é—´æ›´æ–°çš„
- Etag èƒ½ç›‘å¬æ¯«ç§’çº§çš„æ›´æ–°ï¼›Last-Modified çš„æ›´æ–°æ˜¯ç§’çº§çš„ï¼Œå¦‚æœèµ„æºçš„æ›´æ–°æ“ä½œæ˜¯æ¯«ç±³çº§åˆ«åˆ™æ— æ³•ç›‘å¬å‡ºæ–‡ä»¶æ›´æ–°

### 8. æˆ‘ä»¬å¸¸è¯´ HTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œèƒ½è¯´è¯´å—ï¼Ÿ

å½“å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¸éœ€è¦å»ºç«‹é•¿ä¹…è¿æ¥ï¼Œå½“å®¢æˆ·å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶å¹¶è¿”å›å“åº”ç»“æœåï¼Œè¿æ¥å°±æ–­å¼€äº†ï¼Œå¹¶ä¸”æœåŠ¡å™¨å¹¶ä¸ä¸ä¼šä¿ç•™æœ¬æ¬¡é€šä¿¡çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¸¸ç”¨ cookie å’Œ session 
ä¿ç•™çŠ¶æ€ä¿¡æ¯ã€‚æœ€å…¸å‹çš„å°±æ˜¯ä½¿ç”¨ session ä¿å­˜åˆæ³•ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶å°†ç”Ÿæˆçš„ seesionId è®¾ç½®åœ¨ cookie ä¸­ï¼Œå½“æŸä¸ªç”¨æˆ·å‘é€ä¸€ä¸ªè¯·æ±‚åï¼Œé€šè¿‡ seesion id åœ¨ seesion æŸ¥æ‰¾å¯¹åº”ç”¨æˆ·ï¼Œæ ¡éªŒç”¨æˆ·çš„åˆæ³•æ€§

åŒºåˆ«ï¼š
1. cookie åœ¨æœåŠ¡å™¨ä½¿ç”¨ set-cookie è¿›è¡Œè®¾ç½®ï¼Œç„¶åéšç€å“åº”å‘é€åˆ°å®¢æˆ·ç«¯å¹¶ä¿å­˜ï¼›session çš„è®¾ç½®å’Œä¿å­˜éƒ½åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œ
2. cookie ç”±äºåœ¨å®¢æˆ·ç«¯è¿™å°±å¯¼è‡´äº†å®ƒçš„å®‰å…¨æ€§æ²¡æœ‰ session çš„é«˜ï¼›
3. session ä¼šåœ¨æœåŠ¡å™¨ä¿ç•™ä¸€æ®µæ—¶é—´ï¼Œå½“ session çš„è¶Šæ¥è¶Šå¤§æ—¶ï¼Œä¼šæ¶ˆè€—æœåŠ¡å™¨çš„æ€§èƒ½ã€‚è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”ä½¿ç”¨ cookie

### 9. LRU ç®—æ³•æœ‰äº†è§£å—ï¼Œä½ ç®€å•å®ç°ä¸‹å§ã€‚

```javascript
// ä½¿ç”¨å †æ ˆæ•°æ®ç»“æ„å®ç°ï¼Œæœ€è¿‘æœ€å°‘è®¿é—®çš„æ”¾åœ¨æ ˆåº•ï¼Œæœ€æ–°è®¿é—®çš„æ”¾åœ¨æ ˆé¡¶ã€æœ€èœçš„ä¸€ç§å†™æ³•äº†ğŸ˜­ã€‘
/**
 * @param {number} capacity
 */
var LRUCache = function(capacity) {
	this.capacity = capacity;
	this.map = new Map();
	this.stack = [];
};

/**
 * @param {number} key
 * @return {number}
 */
LRUCache.prototype.get = function(key) {
	let map = this.map;
	let stack = this.stack;
	if (map.has(key)) {
		let i;
		let searchItem = stack.find((item, index) => {
			if (item.key === key) {
				i = index;
			}
			return item.key == key;
		});
		stack.splice(i, 1);
		stack.unshift(searchItem);
		return map.get(key);
	}
	return -1;
};

/**
 * @param {number} key
 * @param {number} value
 * @return {void}
 */
LRUCache.prototype.put = function(key, value) {
	let map = this.map;
	let stack = this.stack;
	if (map.has(key)) {
		let index;
		for (let i = 0, len = stack.length; i < len; i++) {
			if (stack[i].key === key) {
				index = i;
				break;
			}
		}
		stack.splice(index, 1);
	} else {
		if (map.size === this.capacity) {
			let item = stack.pop();
			map.delete(item.key);
		}
	}
	stack.unshift({key, value});
	map.set(key, value);
};

/**
 * Your LRUCache object will be instantiated and called as such:
 * var obj = new LRUCache(capacity)
 * var param_1 = obj.get(key)
 * obj.put(key,value)
 */

var cache = new LRUCache( 2 /* ç¼“å­˜å®¹é‡ */ );

console.log("=========================== 1 =====================");

cache.put(1, 1);
cache.put(2, 2);
console.log(cache.get(1));       // è¿”å›  1
cache.put(3, 3);								 // è¯¥æ“ä½œä¼šä½¿å¾—å¯†é’¥ 2 ä½œåºŸ
console.log(cache.get(2));       // è¿”å› -1 (æœªæ‰¾åˆ°)
cache.put(4, 4);								 // è¯¥æ“ä½œä¼šä½¿å¾—å¯†é’¥ 1 ä½œåºŸ
console.log(cache.get(1));       // è¿”å› -1 (æœªæ‰¾åˆ°)
console.log(cache.get(3));       // è¿”å›  3
console.log(cache.get(4));       // è¿”å›  4

console.log("=========================== 2 =====================");

var cache = new LRUCache( 1 /* ç¼“å­˜å®¹é‡ */ );
cache.put(2, 1);
console.log(cache.get(2)); // 1
cache.put(3, 2);
console.log(cache.get(2)); // -1
console.log(cache.get(3)); // 2

console.log("=========================== 3 =====================");

var cache = new LRUCache( 2 /* ç¼“å­˜å®¹é‡ */ );
cache.put(2, 1);
cache.put(2, 2);
console.log(cache.get(2)); // 2
cache.put(1, 1);
cache.put(4, 1);
console.log(cache.get(2)); // -1

console.log("=========================== 4 =====================");

var cache = new LRUCache( 2 /* ç¼“å­˜å®¹é‡ */ );
cache.put(2, 1);
cache.put(1, 1);
console.log(cache.get(2)); // 1
cache.put(4, 1);
console.log(cache.get(1)); // -1
console.log(cache.get(2)); // 1
```
### 10. ä½¿ç”¨ js å®ç°å”¯ä¸€ id

```javascript
let createUid = (length) => return Date.now().toString(36) + Match.ranom().toString(36).substr(3, length);

console.log(createUid());
```

## å‚è€ƒæ–‡ç« 

1. [è§‚å¯Ÿè€…æ¨¡å¼ä¸è®¢é˜…å‘å¸ƒæ¨¡å¼çš„åŒºåˆ«](https://www.cnblogs.com/onepixel/p/10806891.html)
2. [å‘å¸ƒè®¢é˜… -- è§‚å¯Ÿè€…æ¨¡å¼ä»‹ç» ä¼˜ç¼ºç‚¹ ä½¿ç”¨åœºæ™¯ã€æ¡ˆä¾‹åŠä»£ç æ¼”ç¤º](https://blog.csdn.net/aHardDreamer/article/details/89323571)
3. [HttpçŠ¶æ€ç 301å’Œr02 çš„åº”ç”¨åœºæ™¯åˆ†åˆ«æ˜¯ä»€ä¹ˆ](https://muyiy.cn/question/network/128.html)
4. [HTTPçŠ¶æ€ç 401å’Œ403æ·±åº¦è§£æ](https://juejin.im/post/6844903590763429895)
5. [è¦å°±æ¥45é“Promiseé¢è¯•é¢˜ä¸€æ¬¡çˆ½åˆ°åº•ï¼ˆ1.1wå­—ç”¨å¿ƒæ•´ç†ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU5NDM5MDg1Mw==&mid=2247484225&idx=1&sn=b1d26191a41b9a3961f6798d1218fd79&chksm=fe00b96bc977307d2eab27dbd25bf6d27194d7fcdd9d9515822639b0206ad6ca1f946a0de7a9&token=1408690735&lang=zh_CN#rd)
6. [æ‰‹å†™Promiseæ ¸å¿ƒåŸç†ï¼Œå†ä¹Ÿä¸æ€•é¢è¯•å®˜é—®æˆ‘PromiseåŸç†](https://juejin.im/post/6856213486633304078#heading-3)
7. [Cookie å’Œ Session å…³ç³»å’ŒåŒºåˆ«](https://juejin.im/post/6844903575684907016)
8. [jsä¸­ç”Ÿæˆå”¯ä¸€idçš„æ–¹æ³•](https://blog.csdn.net/qq_36595774/article/details/79407697?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param) 
