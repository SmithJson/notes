<!-- vim-markdown-toc GitLab -->

* [CSS 选择器类型](#css-选择器类型)
	* [元素选择器](#元素选择器)
	* [属性选择器](#属性选择器)
	* [关系选择器](#关系选择器)
	* [伪类选择器](#伪类选择器)
	* [伪元素选择器](#伪元素选择器)
* [选择器的优先级](#选择器的优先级)
	* [比较重要性](#比较重要性)
	* [比较特殊性](#比较特殊性)

<!-- vim-markdown-toc -->

## CSS 选择器类型

### 元素选择器

1. 通配符选择器
2. id 选择器
3. 类选择器
4. 标签选择器
5. 属性选择器

| 类型         | 例子  | 说明                                                                 |
|--------------|-------|----------------------------------------------------------------------|
| 通配符选择器 | *     | 选择所有元素，常用于清除浏览器默认 margin 和 padding，统一初始化样式 |
| id 选择器    | #name | id 值为 name 的元素                                                  |
| class 选择器 | .name | class 值为 name 的元素                                               |
| 标签选择器   | p     | 使用标签名作为选择器，如例子中的选择所有的 p 元素                    |

### 属性选择器

| 类型           | 例子                 | 说明                                                                                                                       |
|----------------|----------------------|----------------------------------------------------------------------------------------------------------------------------|
| [attr]         | div[class]           | 含有 class 属性的 div 元素                                                                                                 |
| [attr="val"]   | div[class="test"]    | class 值为 test 的 div 元素                                                                                                |
| [attr^="val"]  | div[class^="test"]   | class 值以 test 开头的 div 元素                                                                                            |
| [attr$="val"]  | div[class$="test"]   | class 值以 test 结尾的 div 的元素                                                                                          |
| [attr~="val"]  | div[class~="test"]   | class 值包含 test 的 div 元素，值需要使用空格分割 `<div class="a test b"></div>` 符合, `<div class="atestb"></div>` 不符合 |
| [attr*="val"]  | div[class*="test"]   | class 值包含 test 的 div 元素, 只需要值中包含即可 `<div class="a test b"></div>` 和 `<div class="atestb"></div>` 都符合    |
| [attr\|="val"] | div[class\| ="test"] | class 值为 test 开头且后面接`-`的 div 元素                                                                                 |

### 关系选择器

1. 后代选择器
2. 子代选择器
3. 兄弟选择器
4. 毗邻选择器

| 类型       | 例子    | 说明                                                   |
|------------|---------|--------------------------------------------------------|
| 后代选择器 | div p   | div 元素下的所有的 p 元素                              |
| 子代选择器 | div > p | div 元素下的子代 p 孩子元素                            |
| 兄弟选择器 | div ~ p | 同一层级，div 元素后面的所有 p 兄弟元素                |
| 毗邻选择器 | div + p | 同一层级，第一个跟在 div 元素后面的元素，并且是 p 元素 |

### 伪类选择器

| 选择器               | 例子                    | 说明                                                                                                                                     |
|----------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| :first-child         | div:first-child         | 匹配第一个子元素，且是 div 元素                                                                                                          |
| :last-child          | div:last-child          | 匹配最后一个子元素，且是 div 元素                                                                                                        |
| :nth-chil(n)         | div:nth-child(2)        | 匹配第 2 个子元素，且是 div 元素，当 nth-child 括号里是具体的值，那么得 n 得从 1 开始；如果是一个表达式如 nth-child(2n)，n 是从 0 开始的 |
| :nth-last-chil(n)    | div:nth-last-child(2)   | 匹配倒数第 2 个子元素，且是 div 元素                                                                                                     |
| :nth-of-type(n)      | div:nth-of-type(2)      | 匹配第二个 div 子元素                                                                                                                    |  |
| :nth-last-of-type(n) | div:nth-last-of-type(2) | 匹配倒数第二个 div 子元素                                                                                                                |  |

### 伪元素选择器

| 选择器        | 例子               | 说明                   |
|---------------|--------------------|------------------------|
| ::after       | div::after         | div之后添加伪元素      |
| ::before      | div::before        | div之前添加伪元素      |
| ::placeholder | input::placeholder | input 输入占位符伪元素 |
| ::selection   | p::selection       | p 选中时的样式         |

## 选择器的优先级

选择器的优先级主要发生在 CSS 属性值计算的层叠步骤，层叠是为了解决多个样式作用于同一元素而造成的样式冲突问题，层叠会进行下面的优先级比较

### 比较重要性

重要性从高到低排列，作者样式表就是开发者写的 CSS

1. 作者样式表中的 `!important` 关键字【注意：如果某个继承过来的属性有 !important 的关键字，那么这个属性的权重值是 0】
2. 作者样式表中的普通样式
3. 浏览器默认样式表

### 比较特殊性

选择器作用范围越小，越特殊, 权重计算

1. 千位：如果是内联样式，千位为1，否则为0
2. 百位：等于 id 选择器的数量
3. 十位：等于属性、class、伪类选择器数量
4. 个位：等于伪元素、标签选择器数量
